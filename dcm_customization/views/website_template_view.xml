<?xml version="1.0" encoding="utf-8"?>
<odoo>


    <template id="midardir_search" name="MidarDir">
        <t t-call="website.layout">
            <div class="container">
                <div class="row">
                    <t t-set="additional_title">MidarDir</t>
                    <form t-att-action="'/midardir'" method="post">
                        <div t-attf-class="input-group #{_classes}" role="search">
                            <input type="text" name="search" class="search-query form-control oe_search_box" placeholder="Search..." t-att-value="search"/>
                            <div class="input-group-append">
                                <button type="submit" class="btn btn-primary oe_search_button" aria-label="Search" title="Search">
                                    <i class="fa fa-search"/>
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <br/>
            <t t-call="dcm_customization.midardir_search_result"/>
        </t>
    </template>

    <template id="midardir_search_result" name="MidarDir Result">
        <t t-set="additional_title">MidarDir Result</t>
        <div class="container">
            <div class="row " t-att-data-res_model="model">
                <t t-foreach="search_models" t-as="model">
                    <div class="col-md-6 pb16">
                        <div class="" t-att-data-res_model="model" t-att-data-count="records[model]['count']" t-att-data-res_header="records[model]['header']"
                        >
                            <strong>
                                <t t-esc="records[model]['header']"/>
                                (<t t-esc="records[model]['count']"/>)
                            </strong>
                        </div>
                        <t t-foreach="records[model]['data']" t-as="record">
                            <t t-if="model == 'company'" t-set="model" t-value="'res.partner'"/>
                            <div class="pl-2" t-att-data-res_model="model" t-att-data-res_header="records[model]['header']" t-att-data-res_id="record['id']"
                            >
                                <div class="">
                                    <span class="o_record_name" t-att-data-res_category="record.get('display_name')">
                                        <t t-if="'display_name' in record" t-esc="record['display_name']"/>
                                        <t t-if="'display_name' not in record and 'utm_campaign_id' in record" t-esc="record['utm_campaign_id'][1]"/>
                                    </span>
                                    <t t-if="model == 'res.partner'">
                                        <br/>
                                        <span>Skills :
                                            <t t-esc="record['category_skill_id_name']"/>
                                        </span>
                                        <br/>
                                        <span>Responsibilities :
                                            <t t-esc="record['category_res_id_name']"/>
                                        </span>
                                    </t>
                                </div>
                            </div>
                        </t>
                    </div>
                </t>
            </div>
        </div>
    </template>


</odoo>